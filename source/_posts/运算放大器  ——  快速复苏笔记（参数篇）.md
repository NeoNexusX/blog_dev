---
title: 运算放大器  ——  快速复苏笔记（参数篇）
categories:
  - Operational Amplifier
tags:
  - Operational Amplifier
excerpt: "写这篇文章的原因是我经常会忘记运放是如何使用的，希望通过几个样例和分析能快速且详细的分析出来。"
---

# 运算放大器  ——  快速复苏笔记（参数篇）

<img src="https://s2.loli.net/2024/09/29/9ENzmw4Y8j7O1sQ.jpg" alt="[lab.magiconch.com][福音戰士標題生成器]-1727599770846" style="zoom:50%;" />

<img src="https://s2.loli.net/2023/09/18/zXu5EpoCmKH8FiJ.jpg" alt="标准监督" style="zoom: 50%;" />

<!-- toc -->

[TOC]



## 资源获取
写这篇文章的原因是我经常会忘记运放是如何使用的，希望通过几个样例和分析能快速且详细的分析出来。部分电路的仿真和电路仿真软件，我已经上传到云盘，这里推荐阿里的云盘，不限速下载很快，[下载地址](https://www.aliyundrive.com/s/kvHgWETjj9V )。提取码: 00kx。

## 什么是运算放大器：

	运算放大器(Operational Amplifier)是一种**差分放大器**，具有**高输入电阻**、**低输出电阻**、**高开放增益（开环增益）**，并具有可放大+输入引脚与-输入引脚间的电压差的功能。
	每个电路由、**负侧电源引脚**、**+输入引脚**、**-输入引脚**、**输出引脚 **等5个引脚构成。

![运放原理图](https://s2.loli.net/2024/09/29/yL1cIY7kGOmD9wz.jpg)



![运算放大器的电源引脚名称示例](https://s2.loli.net/2024/09/29/CvZ5IcdOEeyLafQ.jpg)

## 虚短与虚断：

电压放大模型：

![电压控制电压源放大器模型](https://s2.loli.net/2024/09/29/1vsaVly5g946SQD.jpg)



上图Vo满足如下关系式：

![公式](https://s2.loli.net/2024/09/29/dDxnUA4WjGb2ZqX.png)

	信号电压 **Vi** 是通过电阻分压**Vs**由信号源电阻 **Rs** 和运算放大器的输入电阻 **Ri** 分压而得，因此衰减的信号被输入运算放大器。但是，当 **Ri** 远远大于 **Rs**( **Ri** = **∞** ) 时，公式的第1项可视作近似于1、即**Vs=Vi**。

关于公式的另一个分数项，放大了的输入电压**AvVi** 被运算放大器的输出电阻 **Ro** 和负载电阻 **RL** 分压输出。此时，当 **Ro** 远远小于**RL(Ro=0)** 时，第2项可近似于1，信号可在不衰减的状态下输出。满足以上条件的的运算放大器被称为理想运算放大器。

	上式子就转化成了下式：
$$
Vo = Av * Vs
$$
举个例子：

![电压跟随电路](https://s2.loli.net/2024/09/29/XExbzDn4GgZVwcF.jpg)

![公式](https://s3.bmp.ovh/imgs/2022/07/14/80da1d53d3b964b5.png)



当运算放大器的开放增益$Av$足够大时，可视为左边近似于 0 、$Vs=VOUT$ 。增益较低时，公式左边不可近似于 0，这样，输出电压会发生误差。之所以希望运算放大器有高开放增益，是因为通过该增益可尽量缩小输出电压误差。高开放增益从其他角度来看，意味着应尽量减小+输入引脚和-输入引脚间的电位差。

即开环增益越大，**VIN+=VIN-** 的关系成立的可能性就越大。该+输入引脚和-输入引脚的电位基本相等的关系被称为**虚短** 或 **虚拟接地**。构成负反馈电路使用时，该关系成立，可利用虚拟接地的特性设计应用电路。

### 总结：

**对于理想放大器：**

**虚短：**

	满足如下条件：
$$
Vin_+ = Vin_-
$$
**虚断：**
$$
Iin_+ = Iin_- = 0
$$


## 运放的参数：

### 1、输入电压（Supply  voltage）

**AD8605**、**AD8606**系列：

<img src="https://s2.loli.net/2024/09/29/nlXfwH4gAjoLs8y.png" alt="输入电压范围" style="zoom:80%;" />

OPA228:

<img src="https://s2.loli.net/2024/09/29/QVRaJfZxB4vpLy1.png" alt="OPA228" style="zoom:80%;" />

	双电源供电减半最高电压，选型时保持一定裕量防止烧毁。

### 2、输入偏置电流（Input Bias Current）

	在满足虚断的条件下 $I_B$ 的大小称为偏置电流：

满足如下关系：
$$
I_B = (Iin_+ + Iin_- )/2
$$
	定义为**两个输入端流进电流的平均值**，此参数越小越好。一般用于精密电流检测及其他需要低**$I_B$ **的场合 (光电二极管检测电流)。

偏置电流的存在是因为，运放的输入一般是基于BJT（就是Bipolar Junction Transistor，简单来说就是三极管）或者FET结构的长尾式差分输入。对于BJT来说，由于三极管工作在放大区是需要提供一定的偏置电流的，因此需要提供输入电流，一般有**nA到uA**级别；对于FET来说，由于场效应管本身是场控器件，但还是存在一定的漏电流，但是电流非常小，一般是**fA或者pA**级别。有时候为了ESD，还会增加钳位二极管，从而更加增大了这个漏电流大小。

运放的两个输入端并不是绝对高阻的，本项指标主要描述输入端流进电流的数 量级。比如某个运放在接成跟随器且正输入端接地情况下，正输入端存在流进电流 1.3nA，即图 2-2 中 IB1=1.3nA，负输入端存在流进电流 0.6nA，即图 2-2 中 IB2=0.6nA，那 么该运放的输入偏置电流 IIB即为 0.95nA。

![image-20220714181259056](https://s2.loli.net/2024/09/29/ujWd29orpeY8J51.png)

如果不考虑偏置电流的情况下，直接使用，会有什么情况呢？

第一，当用放大器接成跨阻放大测量外部微小电流时，过大的输入偏置电流会 分掉被测电流，使测量失准。

第二，当放大器输入端通过一个电阻接地时，这个电流将在 电阻上产生不期望的输入电压。

对策：为避免输入偏置电流对放大电路的影响，最主要的措施是选择 IB较小的放大 器。有很多 FET 输入运放可以实现这个要求。但是需要注意，高速运放且 IB较小的运放比 较难选择，数量极少。ADI 公司的 ADA4817-1/-2，带宽 1050MHz，IB约为 2pA，单位增 益稳定。

举例：AD8606的Datasheet上有如下内容

![iB](https://s3.bmp.ovh/imgs/2022/07/14/9ce44b3ef0223424.png)



### 3、噪声（Vn）

运放的噪声固有无法消除，放大小信号时候需要选择低噪声运放。

**AD8605**、**AD8606**系列：

<img src="https://i-blog.csdnimg.cn/blog_migrate/d52fed4a90b8e4d560eea4d8b0baed5e.png" alt="Vn"  />

### 4、静态电流（Iq）

运放在没有负载情况下的待机电流或者建立静态工作点的电流，越小越好。在低功耗场合需要特别关注。常用于移动设备等。

### 5、输入失调电压（Vos / Input  Offset Voltage）

在理想情况下 **VIN+=VIN-**，实际情况下 VIN+和VIN-之间存在一个恒定的电位差，就叫输入失调电压。

也可以被以下方法定义：在运放开环使用时，加载在两个输入端之间的直流电压使得放大器直流输出电 压为 0。也可定义为当运放接成跟随器且正输入端接地时，输出存在的非 0 电压。

满足如下关系：
$$
Vos= Vin_+ - Vin_-
$$
 任何一个放大器，无论开环连接或者反馈连接，当两个输入端都接地时，理论上输出应该为0，但运放内部两输入支路无法做到完全平衡，导致输出永远不会是 0。此时保持放大器负输入端不变，而在正输入端施加一个可调的直流电压，调节它直到输出直流 电压变为 0V，此时正输入端施加的电压的负值即为输入失调电压，用 $V_{OS}$ 表示。但是，多数情况下，输入失调电压不分正负，生产厂家会以绝对值表示。

如果不考虑失调电压，使用的后果：当一个放大器被设计成AF倍闭环电压增益（同相输入放大增益，也称噪声增益）时，如果放大器的失调电压为 $V_{OS}$，则放大电路 0 输入时，输出存在一个等于 $A_F*V_{OS}$ 的直流电平，此输出被称为输出失调电压。闭环增益越大，则输出失调电压也越大。

如何消除失调电压？可通过加法器实现调零：

<img src="https://i-blog.csdnimg.cn/blog_migrate/f37ae1d55fb46cc3f51ac9a975ed848f.png" alt="调零" style="zoom:80%;" />

**AD8605**、**AD8606**系列：

![img](https://i-blog.csdnimg.cn/blog_migrate/cbc2360eaaa5645708f14a0a9dbfb443.png)

### 6、增益带宽积（GBW \GBP）

当运算放大器在小信号（Vpp(峰峰值) 在1V以下的信号）环境下应用时，电压反馈运算放大器的带宽和增益的乘积是一个定值，即等于增益带宽积。

满足如下条件时可正常放大：
$$
GBW = (10 \textasciitilde 100) * A_s(GAIN) * F(MHz)
$$

	**-3dB**带宽带宽：表示增益为1时随着信号频率增加，输出信号幅度信号下降到-3dB时的带宽。一般运放的都是用增益带宽积GBP来表征其处理交流信号的能力，是一个常数。

单位增益带宽是指在运放电路闭环增益为**0db**时的带宽。

具体频率和增益关系需要看开环增益图。

### 7、电压转换速率 /压摆率（Slew Rate）

其定义时在**1us**或者**1ns**等时间里电压升高的的幅度，直观上讲就是电压从波谷上升到波峰所需要的时间。实际上是闭环放大器输出电压变化的最快速率。

此值显示运放正常工作时，输出端所能提供的最大变化速率，当输出信号欲实现比这个速率还快的变化时，运放就不能提供了，导致输出波形变形——原本是正弦波就变成了三角波。

对一个正弦波来说，其最大变化速率发生在过零点处，且与输出信号幅度、频率有 关。设输出正弦波幅度为 Am，频率为 fout，过零点变化速率为 DV，则满足如下条件可正常放大：
$$
D_v =  2π𝐴_𝑚𝑓_{out}\\
SR  \ge 2\pi f 𝐴_𝑚 \\
其中SR就是其压摆率
$$

### 8、输入电压范围 \ 共模输入电压范围（Input Voltage range）

保证运算放大器正常工作的最大输入电压范围。也称为共模输入电压范围。

当运放最大输入电压范围与电源范围比较接近时，比如相差 0.1V 甚至相等、超过，都 可以叫“输入轨至轨”，表示为 Rail-to-rail input，或 RRI。

轨至轨演示图如下：

![image-20220714185339493](https://i-blog.csdnimg.cn/blog_migrate/39de034a54caa8820bc5a12c11afc838.png)

运放的两个输入端，任何一个的输入电压超过此范围，都将引起运放的失效。 注意，超出此范围并不代表运放会被烧毁，但绝对参数中出现的此值是坚决不能超过的。 之所以叫共模输入电压范围，是因为运放正常工作时，两个输入端之间的差压是很小 的，某个输入端的电压与两个输入端电压的平均值（共模）是基本相同的

对于非轨到轨放大器来说，存在一定输入限制，可参考：[TI对于共模输入电压的解析。](https://wenku.baidu.com/view/8162c04bae1ffc4ffe4733687e21af45b307fe2a.html)

### 9、输出电压范围（Onput Voltage range）

在给定电源电压和负载情况下，输出能够达到的最大电压范围。或者给出正向最大电压 VOH 以及负向最小电压 VOL——相对于给定的电源电压和负载；或者给出与电 源轨（rail）的差距。

优劣范围：一般运放的输出电压范围要比电源电压范围略窄 1V 到几 V。较好的运放 输出电压范围可以与电源电压范围非常接近，比如几十 mV 的差异，这被称为“输出至轨 电压”。这在低电压供电场合非常有用。当厂家觉得这个运放的输出范围已经接近于电源电 压范围时，就自称“输出轨至轨”，表示为 Rail-to-rail output，或 RRO。

在没有额外的储能元件情况下，运放的输出电压不可能超过电源电压范围，随 着负载的加重，输出最大值与电源电压的差异会越大。轨到轨受到输出电流的影响，如果负载过小，输出电流过大，则会使输出电压达不到电源轨。

输出电压范围，或者输出至轨电压有如下特点：

-  1）正至轨电压与负至轨电压的绝对值可能不一致，但一般情况下数量级相同；
-  2） 至轨电压与负载密切相关，负载越重（阻抗小）至轨电压越大；
-  3）至轨电压与信号频率相关，频率越高，至轨电压越大，甚至会突然大幅度下降；

对于**AD8605**、**AD8606**系列：

其5v输出特性已经标明：其中高低代表输出电平的高低。

![输出电压](https://i-blog.csdnimg.cn/blog_migrate/46b490e8c949ff99a59010027ea2a56d.png)

对于其他系列：

OPA354 在  $RL = 10K$   的情况下电压最大值为   $Vo = V_s -20mV $

![输出](https://i-blog.csdnimg.cn/blog_migrate/d9d3f435264886b09dbac9a1ce6b1f80.png)

详细了解可参考：[TI对于输出范围解析 ](https://wenku.baidu.com/view/fa1d4f138ad63186bceb19e8b8f67c1cfbd6eefe.html)。

### 10、短路电流 （$Isc$）

标明运放输出级输入或者灌入电流的能力（表征输出驱动的能力），有特殊的驱动运放才有此参数。

### 11、输入阻抗（impedance ， resistance）

选择运放输入阻抗时要考虑到被放大对象（信源）的内阻。运放的输入阻抗要远远大于信源内阻。例如信源内阻为10KΩ，则需要选择100K以上的输入阻抗才能达到90%的精度，要达到99%的精度则要选择1M以上的输入阻抗。                                                                        